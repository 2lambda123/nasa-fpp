=== State Machine Definitions

A *state machine definion* defines a state machine  

==== Syntax

* `state machine` <<Lexical-Elements_Identifiers,_identifier_>> 
`{` _state-machine-logic_ `}` 

_state-machine-logic_ is an 
<<Element-Sequences,element sequence>> in
which each element is a *state machine member*,
and the terminating punctuation is a semicolon.
A state machine member is one of the following

* A <<Definitions_State-Initial,state initial>>
* A <<Definitions_State-Definition,state definition>>
* A <<Definitions_State-Junction,state junction>>
* A <<Definitions_State-Transition,state transition>>


==== Semantics

. The identifier specifies the name of the state machine.

. The _state-machine-logic_ contains a textual description
of a hierarchical state machine.

. The state machine is expected to have one _state initial_.

. Every state that is referenced in the _state transition_ is expected to be defined in the in the _state definition_

==== Examples

[source,fpp]
----
# MonitorSm defines the name of the state machine
state machine MonitorSm {

    # state initial
    [*] -> Black

    # state definition
    state Black

    # state definition
    state Green {
        entry: clearMonitorCount()
    }

    # state junction
    state c1 <choice>

    # state transitions
    Black -> Green: ValidSignal
    Green -> Black: MonitorReset
    Black -> c1: RTI
    c1 -> Green: [guard()]
    c1 -> Black

}

----