=== State Machine Definitions

A *state machine definion* defines a state machine  

==== Syntax

* `state machine` <<Lexical-Elements_Identifiers,_identifier_>> 
`{` _state-machine-logic_ `}` 

_state-machine-logic_ is an 
<<Element-Sequences,element sequence>> in
which each element is a *state machine member*,
and the terminating punctuation is a semicolon.
A state machine member is one of the following

* A <<Definitions_State-Initial,state initial>>
* A <<Definitions_State-Definition,state definition>>
* A <<Definitions_State-Junction,state junction>>
* A <<Definitions_State-Transition,state transition>>


==== Semantics

. The identifier specifies the name of the state machine.

. The _state-machine-logic_ contains a textual description
of a hierarchical state machine.

. The state machine is expected to have one _state initial_.

. Every state that is referenced in the _state transition_ is expected to be defined in the in the _state definition_

==== Examples

[source,fpp]
----
@ MonitorSm defines the states for this component
state machine MonitorSm {

    [*] -> Black

    state Black {
        internal: RTI/checkSignal()
    }

    state Green {
        entry: clearMonitorCount()
        internal: RTI/checkSignal()
    }

    state Yellow {
        entry: clearPersistCount()
        internal: RTI/checkSignal()

    }

    state Red {
        entry: ReportMonitorTrip()

    }

    Black -> Green: ValidSignal
    Green -> Yellow: SignalOutsideLimits
    Yellow -> Red: PersistenceExceeded
    Yellow -> Green: SignalWithinLimts
    Red -> Green: MonitorReset

}

----