// ======================================================================
// \title  ParamsTopologyAc.cpp
// \author Generated by fpp-to-cpp
// \brief  cpp file for Params topology
// ======================================================================

#include "ParamsTopologyAc.hpp"

namespace M {


  // ----------------------------------------------------------------------
  // Component instances
  // ----------------------------------------------------------------------

  C M_c1(FW_OPTIONAL_NAME("M_c1"));

  C M_c2(FW_OPTIONAL_NAME("M_c2"));

  // ----------------------------------------------------------------------
  // Helper functions
  // ----------------------------------------------------------------------

  void initComponents(const TopologyState& state) {
    M_c1.init(InstanceIds::M_c1);
    M_c2.init(InstanceIds::M_c2);
  }

  void configComponents(const TopologyState& state) {
    // Nothing to do
  }

  void setBaseIds() {
    M_c1.setIdBase(BaseIds::M_c1);
    M_c2.setIdBase(BaseIds::M_c2);
  }

  void connectComponents() {
    // Nothing to do
  }

  void regCommands() {
    M_c1.regCommands();
    M_c2.regCommands();
  }

  void readParameters() {
    M_c1.readParamFile();
  }

  void loadParameters() {
    M_c1.loadParamsSpecial();
    M_c2.loadParameters();
  }

  void startTasks(const TopologyState& state) {
    // Nothing to do
  }

  void stopTasks(const TopologyState& state) {
    // Nothing to do
  }

  void freeThreads(const TopologyState& state) {
    // Nothing to do
  }

  void tearDownComponents(const TopologyState& state) {
    // Nothing to do
  }

  // ----------------------------------------------------------------------
  // Setup and teardown functions
  // ----------------------------------------------------------------------

  void setup(const TopologyState& state) {
    initComponents(state);
    configComponents(state);
    setBaseIds();
    connectComponents();
    regCommands();
    readParameters();
    loadParameters();
    startTasks(state);
  }

  void teardown(const TopologyState& state) {
    stopTasks(state);
    freeThreads(state);
    tearDownComponents(state);
  }

}
