// ======================================================================
// \title  ParamsTopologyAc.cpp
// \author Generated by fpp-to-cpp
// \brief  cpp file for Params topology
//
// \copyright
// Copyright (c) 2021 California Institute of Technology.
// U.S. Government sponsorship acknowledged.
// All rights reserved.
// ======================================================================

#include "ParamsTopologyAc.hpp"

namespace M {

  namespace {

    // ----------------------------------------------------------------------
    // Component instances
    // ----------------------------------------------------------------------

    // c1
    C c1(FW_OPTIONAL_NAME("c1"));

    // c2
    C c2(FW_OPTIONAL_NAME("c2"));

    // ----------------------------------------------------------------------
    // Private functions
    // ----------------------------------------------------------------------

    // Initialize components
    void initComponents(const TopologyState& state) {
      c1.init(InstanceIds::c1);
      c2.init(InstanceIds::c2);
    }

    // Set component base Ids
    void setBaseIds() {
      c1.setIdBase(BaseIds::c1);
      c2.setIdBase(BaseIds::c2);
    }

    // Register commands
    void regCommands() {
      c1.regCommands();
      c2.regCommands();
    }

    // Read parameters
    void readParameters() {
      c1.readParamFile();
    }

    // Load parameters
    void loadParameters() {
      c1.loadParamsSpecial();
      c2.loadParameters();
    }

  }

  // ----------------------------------------------------------------------
  // Public interface functions
  // ----------------------------------------------------------------------

  void setup(const TopologyState& state) {
    initComponents(state);
    setBaseIds();
    regCommands();
    readParameters();
    loadParameters();
  }

  void teardown(const TopologyState& state) {

  }

}
